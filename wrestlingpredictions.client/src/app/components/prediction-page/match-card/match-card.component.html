<div class="match-card">

  <h2>Match Card</h2>

  <div *ngIf="eventDetails?.matches?.length === 0" >
    No matches available.
  </div>

  <div *ngFor="let match of eventDetails.matches; trackBy: trackByMatchId"
       class="match-item">


    <!-- FLEX ROW -->
    <div class="match-row">

      <!-- LEFT SIDE: Teams -->
      <div class="teams">

        <ng-container *ngFor="let team of match.teams; let i = index">
          <div class="team">
            
            <div class="team-name" *ngIf="team.teamName">
            </div>
            
            <div class="participants">
              
              <span *ngFor="let participant of team.participants; let last = last">

                {{ participant }}<span *ngIf="!last">, </span>
              </span>
            </div>

          </div>

          <span class="vs"
                *ngIf="i < match.teams.length - 1">
            vs
          </span>

        </ng-container>

      </div>

      <!-- RIGHT SIDE: Dropdown -->
      <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown">
          {{ getSelectedTeamName(match) }}
        </button>

        <ul class="dropdown-menu dropdown-menu-end">
          <li *ngFor="let team of match.teams">
            <button class="dropdown-item"
                    (click)="selectTeam(match.matchId, team.id)">
              {{ getTeamDisplayName(team) }}
            </button>
          </li>
        </ul>
      </div>

    </div>

  </div>

  <div class="save-section" *ngIf="eventDetails.matches.length > 0">
    <button class="btn btn-success"
            (click)="savePredictions()">
      Save Predictions
    </button>
  </div>

</div>
